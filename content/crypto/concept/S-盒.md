---
title: "S-盒"
---

在[[crypto/concept/F函数|F函数]]结构图内，我们发现 S盒 具有特定的编号，原因是每一个 S盒 都有特定的查找表，此表将 6 bit 的输入转换为 4 bit 的输出。

一个简单的查找示例如下:

假如我们需要将第一分组内的`110010`数据输入 S-盒，根据规则，此数据应由$s_1$盒进行处理，我们首先选择此数据的最高位和最低位构成`10`，计算此数据等于`2`，我们需要查询 $s_1$ 盒内的第 2 行，接下来，我们计算其他位的数据`1001`，计算结果为`9`，则查询$s_1$表格内的第 9 列，最终获得结果。

整体过程，可通过下图理解：

![S Box](https://img.gejiba.com/images/b586f43ca9d6a3b70195f0c7da971c86.png)

> [!example]
>  假如推入 $s_1$ 盒的数据为`100101` ，请读者自行查询其输出值
>  
>  正确结果应该为 `1000`

完整的 S-盒 表格，读者可自行前往[维基百科](https://en.wikipedia.org/wiki/DES_supplementary_material#Substitution_boxes_(S-boxes))查询。

> [!info]
> S-盒 的设计思路是不明确的，所以很多人认为NSA可能在其中设计了秘密后门。
> 但 S-盒 可以帮助 DES 阻挡很多高级数学攻击，比如差分密码分析
> S-盒 也引入了重要的非线性的特性，即：
> $$S(a) \oplus S(b) \not = S(a \oplus b)$$

